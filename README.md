# Type2md - Golang Type To Markdown

Support to define golang data type as markdown table

- Support for custom structure tags
- Support annotation parsing
- Support default value definition
- support is required
- Support external mod type reference resolution.

### Usage

```shell
$ type2md -h
Usage of type2md:
  -f string
        file path
  -t string
        file title
  -tag string
        struct tag name (default "json")
  -v    show version
```

### Example

```go
package test

import "github.com/eleztian/type2md/test/ext"

//go:generate type2md -f ../docs/doc_config.md github.com/eleztian/type2md/test Config

// Config doc.
type Config struct {
	Pre     ext.Hook
	Post    *ext.Hook
	Servers map[string]struct {
		Host string `json:"host,omitempty"`
		Port int    `json:"port" enums:"22,65522" require:"false"`
	} `json:"servers"` // server list
	InlineStruct `json:",inline"` // inline struct
	Slice        []string         // sss
	MapData      map[string]map[int]*OtherStruct
	ArrayData    [][2]string   `json:"array_data"`
	C            []interface{} // slice interface{}
}

// InlineStruct inline struct.
type InlineStruct struct {
	A string `json:"a"` // inline struct field a
}

// OtherStruct other struct
// this is use for test.
type OtherStruct struct {
	A string                 `json:"a" require:"true" default:"default value"`
	B [][2]ext.Mode          `json:"b"` // array string
	C map[string]interface{} `json:"c"` // map[string]interface{}
	D *OtherStruct           `json:"d"` // nested struct
}

```

execute the following commands

```shell
$ go generate  ./...          
2022/10/28 23:56:16 Current Module: github.com/eleztian/type2md
2022/10/28 23:56:16 start generate github.com/eleztian/type2md/test.Config
2022/10/28 23:56:16 start to save to ../docs/doc_config.md

```

Get the following documentation:

#### Config Doc
Config doc.

| Key      | Type      | Require | Default           | Describe          |
|----------|----------|-----|------------------|--------------|
|Pre|[Hook](#ext.Hook)|true| | |
|Post|[Hook](#ext.Hook)|true| | |
|servers.&#123;string&#125;.host|string|false| | |
|servers.&#123;string&#125;.port|int|false| | - `22`<br>- `65522`|
|a|string|true| |inline struct field a.|
|Slice.&#91;&#93; |string|true| |sss.|
|MapData.&#123;string&#125;.&#123;int&#125;.|[OtherStruct](#OtherStruct)|true| | |
|array_data.&#91;&#93; .&#91;2&#93; |string|true| | |
|C.&#91;&#93; |any|true| |slice interface&#123;&#125;.|

##### ext.Hook
Hook hook config.

| Key      | Type      | Require | Default           | Describe          |
|----------|----------|-----|------------------|--------------|
|name|string|false|example|hook name.|
|commands.&#91;&#93; |string|true| |command list.|
|envs.&#123;string&#125;|string|true| |env key map.|
|mode|[Mode](#ext.Mode)|true|1|run mode.|

##### OtherStruct
OtherStruct other struct
this is use for test.

| Key      | Type      | Require | Default           | Describe          |
|----------|----------|-----|------------------|--------------|
|a|string|true|default value| |
|b.&#91;&#93; .&#91;2&#93; |[Mode](#ext.Mode)|true| |array string.|
|c.&#123;string&#125;|any|true| |map&#91;string&#93; interface&#123;&#125;.|
|d|[OtherStruct](#OtherStruct)|true| |nested struct.|

##### ext.Mode
**Type:** int
Mode mode define.

| Enum Value      | Describe          |
|----------|--------------|
|1|mode q.|
|2|mode a.|

---
**github.com/eleztian/type2md/test.Config**
GENERATED BY THE COMMAND [type2md](https://github.com/eleztian/type2md)

